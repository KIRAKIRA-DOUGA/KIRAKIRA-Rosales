# KIRAKIRA-Rosales å¼€å‘æ–‡æ¡£

## ä¸€ã€å‰è¨€

KIRAKIRA-Rosalesï¼ˆä¸‹æ–‡ç®€ç§°ï¼šâ€œRosalesâ€ æˆ– â€œåç«¯â€ï¼‰æ˜¯ä¸€ä¸ªç”± Koa ç¼–å†™çš„ã€RESTful çš„åç«¯ API.

æœ¬æ–‡æ¡£ä¸»è¦å†…å®¹å¦‚ä¸‹ï¼š
1. å¦‚ä½•é’ˆå¯¹ç°æœ‰ä»£ç è¿›è¡ŒäºŒæ¬¡å¼€å‘ã€‚
2. ä¸åç«¯ç›¸å…³çš„åŸºç¡€è®¾æ–½çš„çŸ¥è¯†ï¼Œä¾‹å¦‚æ•°æ®åº“ã€æœç´¢å¼•æ“å’Œé›†ç¾¤éƒ¨ç½²ç­‰ã€‚

åœ¨æ­£å¼å¼€å§‹å‘æ‚¨ä»‹ç»å‰ï¼Œæˆ‘å‡è®¾æ‚¨å·²ç»å…·æœ‰ä¸€å®šçš„ç¼–ç¨‹çŸ¥è¯†ï¼ŒåŒ…æ‹¬ï¼šç†è§£ [JavaScript](https://developer.mozilla.org/docs/Web/JavaScript) & [TypeScript](https://www.typescriptlang.org/) çš„åŸºç¡€è¯­æ³•ã€[ç½‘ç»œè¯·æ±‚ï¼ˆHTTPï¼‰](https://developer.mozilla.org/docs/Web/HTTP/Overview)å·¥ä½œåŸç†ï¼Œä»¥åŠäº†è§£ [æ•°æ®åº“](https://zh.wikipedia.org/wiki/%E6%95%B0%E6%8D%AE%E5%BA%93) å’Œ [NoSQL](https://zh.wikipedia.org/wiki/NoSQL) æ¦‚å¿µã€‚



### æŠ€æœ¯æ ˆ
åœ¨å¼€å§‹å‰ï¼Œäº†è§£ KIRAKIRA-Rosales åŠå…¶ç›¸å…³åŸºç¡€è®¾æ–½çš„æŠ€æœ¯æ¶æ„æ˜¯éå¸¸æœ‰å¿…è¦çš„ã€‚

KIRAKIRA-Rosales ç”± Koa ç¼–å†™ã€‚Koa æ˜¯ä¸€ç§ Node.js æ¡†æ¶ï¼Œæä¾›äº†æ›´å¥½çš„å¼‚æ­¥å’Œ HTTP æ”¯æŒã€‚  
å…·ä½“æ¥è¯´ï¼Œåç«¯ä½¿ç”¨çš„è¯­è¨€æ˜¯ TypeScript, TypeScript çš„ç±»å‹æ£€æŸ¥èƒ½å¤Ÿå¾ˆå¥½åœ°æé«˜ä»£ç è´¨é‡ã€‚  
åç«¯çš„ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²åœ¨ AWS çš„ EKS é›†ç¾¤ä¸­ã€‚  
åç«¯ä¾èµ–äºä¸€ä¸ª MongoDB æ•°æ®åº“é›†ç¾¤å’Œä¸€ä¸ª Elasticsearch é›†ç¾¤ï¼Œä»–ä»¬åŒæ ·éƒ¨ç½²åœ¨ AWS EKS ä¸­ã€‚

å¯¹äºå­˜å‚¨ï¼ŒMongoDB å’Œ Elasticsearch äº§ç”Ÿçš„æ•°æ®åº“è¢«å­˜å‚¨åœ¨ AWS EBS ç£ç›˜ä¸­ï¼Œå›¾ç‰‡å’Œè§†é¢‘æ–‡ä»¶ç”± Cloudflare çš„ Images å’Œ Stream å­˜å‚¨ã€‚

[![](https://img.shields.io/badge/-JavaScript-F7DF1E?style=flat-square&logo=javascript&logoColor=black)](https://tc39.es)
[![](https://img.shields.io/badge/-TypeScript-3178C6?style=flat-square&logo=typescript&logoColor=white)](https://www.typescriptlang.org)
[![](https://img.shields.io/badge/-Node.js-417e38?style=flat-square&logo=Node.js&logoColor=white)](https://nodejs.org)
[![](https://img.shields.io/badge/-Koa-EEEEEE?style=flat-square&logo=Koa&logoColor=black)](https://koajs.com)
[![](https://img.shields.io/badge/-MongoDB-EEEEEE?style=flat-square&logo=MongoDB&logoColor=00ed64)](https://www.mongodb.com)
[![](https://img.shields.io/badge/-Elasticsearch-07a0d7?style=flat-square&logo=Elasticsearch&logoColor=333333)](https://www.elastic.co/elasticsearch)
[![](https://img.shields.io/badge/-Kubernetes-0075e4?style=flat-square&logo=Kubernetes&logoColor=white)](https://kubernetes.io/)
[![](https://img.shields.io/badge/-Cloudflare-f6821f?style=flat-square&logo=Cloudflare&logoColor=white)](https://www.cloudflare.com)

## äºŒã€å®‰è£…å’Œå¯åŠ¨
### 1. å…‹éš†å­˜å‚¨åº“ã€‚
åœ¨å¼€å§‹å‰ï¼Œç¡®ä¿ä½ å®‰è£…äº† [Git](https://git-scm.com/)ï¼Œå¹¶ä¸”æœ‰æƒè®¿é—®æœ¬å­˜å‚¨åº“ã€‚

ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å…‹éš†æœ¬å­˜å‚¨åº“
``` shell
# è¯·å°† <some-dir> æ›¿æ¢ä¸ºä½ è®¡ç®—æœºä¸Šçš„ä¸€ä¸ªç›®å½•ã€‚
cd <some-dir>

# å…‹éš†
git clone https://github.com/KIRAKIRA-DOUGA/KIRAKIRA-Rosales.git
```
æˆ–è€…ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å…·æœ‰å›¾å½¢åŒ–ç•Œé¢çš„ Github Desktop æˆ–å…¶ä»– Git å…¼å®¹å·¥å…·æ¥å®Œæˆè¿™ä¸€æ­¥éª¤ã€‚

### 2. è®¾ç½®ç¯å¢ƒå˜é‡
> [!IMPORTANT]    
> ä¸‹æ–¹çš„ç¤ºä¾‹ä¸­å¹¶æ²¡æœ‰åŒ…å«å…¨éƒ¨ç¯å¢ƒå˜é‡ã€‚  
> å…¨éƒ¨ç¯å¢ƒå˜é‡åŠå…¶ä½œç”¨è¯·å‚é˜…ï¼š[.env.powershell.temp](https://github.com/KIRAKIRA-DOUGA/KIRAKIRA-Rosales/blob/develop/.env.powershell.temp)ï¼Œè¯¥æ–‡ä»¶ä¸­åˆ—å‡ºçš„å¤§å¤šæ•°ç¯å¢ƒå˜é‡éƒ½æ˜¯å¿…éœ€çš„ã€‚  
```powershell
# æ ¹æ®æ“ä½œç³»ç»Ÿçš„ä¸åŒï¼Œè®¾ç½®ç¯å¢ƒå˜é‡çš„æ–¹å¼ä¹Ÿä¸åŒï¼Œä»¥ä¸‹ä¸º Windows PowerShell çš„ç¤ºä¾‹
$env:SERVER_PORT="9999"
$env:SERVER_ENV="dev"
$env:SERVER_ROOT_URL="kirakira.moe"
...
```
åœ¨è®¾ç½®ç¯å¢ƒå˜é‡æ—¶æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·åœ¨ [è®®é¢˜](https://github.com/KIRAKIRA-DOUGA/KIRAKIRA-Rosales/issues) æˆ– [è®¨è®ºåŒº](https://github.com/KIRAKIRA-DOUGA/KIRAKIRA-Rosales/discussions) ä¸­æŸ¥æ‰¾è§£ç­”æˆ–æé—®ã€‚

### 3.å¯åŠ¨åç«¯å¼€å‘æœåŠ¡å™¨
> [!IMPORTANT]    
> ä»¥å¼€å‘æ¨¡å¼å¯åŠ¨æœåŠ¡ä¼šå°†ä»£ç æ‰“åŒ…è‡³é¡¹ç›®æ ¹ç›®å½•çš„ `.kirakira` ç›®å½•å†…ã€‚  
```sh
# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# æˆ–è€…,æ‚¨å¯ä»¥ä»¥çƒ­é‡è½½æ–¹å¼å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev-hot
```
å¦‚æœæ‚¨éœ€è¦ä¿®æ”¹å¼€å‘æœåŠ¡å™¨çš„é»˜è®¤æ‰“åŒ…ä½ç½®ï¼Œéœ€è¦ä¿®æ”¹ package.json æ–‡ä»¶é‡Œ `scripts.start` çš„å€¼ã€‚  
`scripts.start` çš„å€¼æ˜¯ä¸€å¥å¯åŠ¨å‘½ä»¤ï¼Œæ‚¨éœ€è¦å°†è¯¥å‘½ä»¤ä¸­æ‰€æœ‰ `.kirakira` æ›¿æ¢ä¸ºæ‚¨çš„è‡ªå®šä¹‰ç›®å½•ã€‚  
ä¾‹å¦‚ `tsc --noEmitOnError --sourceMap --outDir .foo && node ./.foo/app.js` å°†ä¼šå¯¼è‡´å¼€å‘æœåŠ¡å™¨çš„æ‰“åŒ…ç›®å½•æ”¹ä¸º `.foo`

### 4. æ£€æŸ¥
æˆåŠŸæ‰§è¡Œä»¥ä¸Šå‘½ä»¤åï¼Œæ‚¨åº”è¯¥ä¼šè·å¾—ä¸€ä¸ªç›‘å¬ 9999ï¼ˆæˆ–æ‚¨åœ¨ç¯å¢ƒå˜é‡ä¸­è‡ªå®šä¹‰çš„ï¼‰ç«¯å£çš„ KIRAKIRA-Rosales å¼€å‘æœåŠ¡å™¨ã€‚ğŸ‰  
åœ¨æ‚¨çš„æµè§ˆå™¨ä¸­è¾“å…¥ https://localhost:9999 å³å¯æµ‹è¯•è¿è¡ŒçŠ¶æ€ã€‚å¦‚æœå·²ç»æ­£å¸¸å¯åŠ¨å®Œæ¯•ï¼Œåº”å½“å¯ä»¥çœ‹åˆ° â€œHello Worldâ€ æˆ–ç±»ä¼¼å­—æ ·ã€‚

åœ¨æ­¤åŸºç¡€ä¸Šï¼Œæ‚¨å¯ä»¥ç¼–å†™ã€è´¡çŒ®ä»£ç ï¼Œå‚ä¸ KIRAKIRA é¡¹ç›®å¼€å‘ã€‚  


